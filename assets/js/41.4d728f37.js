(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{356:function(s,t,e){"use strict";e.r(t);var a=e(7),v=Object(a.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"cookie和session"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#cookie和session"}},[s._v("#")]),s._v(" Cookie和Session")]),s._v(" "),t("h2",{attrs:{id:"cookie"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#cookie"}},[s._v("#")]),s._v(" Cookie")]),s._v(" "),t("h3",{attrs:{id:"什么是cookie"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#什么是cookie"}},[s._v("#")]),s._v(" 什么是Cookie")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("Cookie")]),s._v("是服务器通知客户端保存键值对的一种技术")]),s._v(" "),t("li",[s._v("客户端有了"),t("code",[s._v("Cookie")]),s._v("后，每次请求都发送给服务器")]),s._v(" "),t("li",[s._v("每个"),t("code",[s._v("Cookie")]),s._v("的大小不能超过"),t("code",[s._v("4KB")])])]),s._v(" "),t("h3",{attrs:{id:"创建cookie"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#创建cookie"}},[s._v("#")]),s._v(" 创建Cookie")]),s._v(" "),t("p",[s._v("服务器调用方法"),t("code",[s._v("response.addCookie(cookie)")]),s._v("通过响应头"),t("code",[s._v("Set-Cookie")]),s._v("通知客户端保存")]),s._v(" "),t("h3",{attrs:{id:"cookie的获取"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#cookie的获取"}},[s._v("#")]),s._v(" Cookie的获取")]),s._v(" "),t("p",[s._v("服务器调用方法"),t("code",[s._v("request.getCookie()")]),s._v("返回"),t("code",[s._v("Cookie[]")]),s._v("数组")]),s._v(" "),t("h3",{attrs:{id:"cookie的修改"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#cookie的修改"}},[s._v("#")]),s._v(" Cookie的修改")]),s._v(" "),t("h4",{attrs:{id:"方案一"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#方案一"}},[s._v("#")]),s._v(" 方案一")]),s._v(" "),t("ol",[t("li",[s._v("创建同名的"),t("code",[s._v("Cookie")]),s._v("对象，被赋予新的Cookie值")]),s._v(" "),t("li",[s._v("调用"),t("code",[s._v("response.addCookie(cookie)")])])]),s._v(" "),t("h4",{attrs:{id:"方案二"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#方案二"}},[s._v("#")]),s._v(" 方案二")]),s._v(" "),t("ol",[t("li",[s._v("先查找到需要修改的"),t("code",[s._v("Cookie")]),s._v("对象")]),s._v(" "),t("li",[s._v("调用"),t("code",[s._v("setValue()")]),s._v("方法赋予新的"),t("code",[s._v("Cookie")]),s._v("值")]),s._v(" "),t("li",[s._v("调用"),t("code",[s._v("response.addCookie()")])])]),s._v(" "),t("h3",{attrs:{id:"cookie生命控制"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#cookie生命控制"}},[s._v("#")]),s._v(" Cookie生命控制")]),s._v(" "),t("p",[t("code",[s._v("Cookie")]),s._v("的生命控制指的是如何管理"),t("code",[s._v("Cookie")]),s._v("什么时候销毁")]),s._v(" "),t("h4",{attrs:{id:"setmaxage"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#setmaxage"}},[s._v("#")]),s._v(" setMaxAge()")]),s._v(" "),t("ul",[t("li",[s._v("正数，表示在指定的秒数后国企")]),s._v(" "),t("li",[s._v("负数，表示浏览器关闭后删除(默认值)")]),s._v(" "),t("li",[s._v("零，表示马上删除")])]),s._v(" "),t("h3",{attrs:{id:"cookie有效路径path"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#cookie有效路径path"}},[s._v("#")]),s._v(" Cookie有效路径Path")]),s._v(" "),t("p",[t("code",[s._v("Cookie")]),s._v("的"),t("code",[s._v("path")]),s._v("属性可以有效的过滤哪些"),t("code",[s._v("Cookie")]),s._v("可以发送给服务器。哪些不发。")]),s._v(" "),t("p",[t("code",[s._v("path")]),s._v("属性是通过请求的地址来进行有效的过滤。")]),s._v(" "),t("p",[s._v("调用"),t("code",[s._v("cookie.setPath()")]),s._v("设置")]),s._v(" "),t("h2",{attrs:{id:"session会话"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#session会话"}},[s._v("#")]),s._v(" Session会话")]),s._v(" "),t("h3",{attrs:{id:"什么是session"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#什么是session"}},[s._v("#")]),s._v(" 什么是Session")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("Session")]),s._v("就是会话。它是用来维护一个客户端和服务器之间关联的一种技术。")]),s._v(" "),t("li",[s._v("每个客户端都有自己的一个"),t("code",[s._v("Session")]),s._v("会话。")]),s._v(" "),t("li",[t("code",[s._v("Session")]),s._v("会话中，我们经常用来保存用户登录之后的信息。")])]),s._v(" "),t("h3",{attrs:{id:"session的创建和获取"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#session的创建和获取"}},[s._v("#")]),s._v(" Session的创建和获取")]),s._v(" "),t("h4",{attrs:{id:"request-getsession"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#request-getsession"}},[s._v("#")]),s._v(" request.getSession()")]),s._v(" "),t("p",[s._v("第一次调用:创建Session会话")]),s._v(" "),t("p",[s._v("之后调用:获取Session会话")]),s._v(" "),t("h4",{attrs:{id:"isnew"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#isnew"}},[s._v("#")]),s._v(" isNew()")]),s._v(" "),t("p",[t("code",[s._v("true")]),s._v(":表示刚创建")]),s._v(" "),t("p",[t("code",[s._v("false")]),s._v(":表示获取之前创建")]),s._v(" "),t("h4",{attrs:{id:"getid"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#getid"}},[s._v("#")]),s._v(" getId()")]),s._v(" "),t("p",[s._v("得到"),t("code",[s._v("Sesion")]),s._v("的会话"),t("code",[s._v("id")]),s._v("值")]),s._v(" "),t("h3",{attrs:{id:"session生命周期控制"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#session生命周期控制"}},[s._v("#")]),s._v(" Session生命周期控制")]),s._v(" "),t("h4",{attrs:{id:"public-void-setmaxinactiveinterval-int-interval"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#public-void-setmaxinactiveinterval-int-interval"}},[s._v("#")]),s._v(" public void setMaxInactiveInterval(int interval)")]),s._v(" "),t("p",[s._v("设置"),t("code",[s._v("Session")]),s._v("的超时时间，超过指定的时长，"),t("code",[s._v("Session")]),s._v("就会被销毁。")]),s._v(" "),t("ul",[t("li",[s._v("正数，设置超时时长")]),s._v(" "),t("li",[s._v("负数，表示永不超时")])]),s._v(" "),t("h4",{attrs:{id:"public-int-getmaxinactiveinterval"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#public-int-getmaxinactiveinterval"}},[s._v("#")]),s._v(" public int getMaxInactiveInterval()")]),s._v(" "),t("p",[s._v("获取"),t("code",[s._v("Session")]),s._v("的超时时间")]),s._v(" "),t("h4",{attrs:{id:"public-void-invalidate"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#public-void-invalidate"}},[s._v("#")]),s._v(" public void invalidate()")]),s._v(" "),t("p",[s._v("让当前"),t("code",[s._v("Session")]),s._v("会话描述超时失效")]),s._v(" "),t("h5",{attrs:{id:"默认超时时长"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#默认超时时长"}},[s._v("#")]),s._v(" 默认超时时长")]),s._v(" "),t("p",[s._v("在"),t("code",[s._v("web.xml")]),s._v("中配置")]),s._v(" "),t("div",{staticClass:"language-xml extra-class"},[t("pre",{pre:!0,attrs:{class:"language-xml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("session-config")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("session-timeout")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("20"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("session-timeout")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("session-config")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n")])])]),t("h5",{attrs:{id:"超时的概念"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#超时的概念"}},[s._v("#")]),s._v(" 超时的概念")]),s._v(" "),t("p",[s._v("超时指的是客户端两次请求的最大间隔时长")])])}),[],!1,null,null,null);t.default=v.exports}}]);